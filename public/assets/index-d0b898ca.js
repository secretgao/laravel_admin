import{o as mt,a as fe,i as _t,w as ne,b as oe,n as me,c as Pe,u as G,r as A,d as Y,g as vt,e as ie,f as _e,h as o,j as gt,m as De,k as yt,T as Fe,l as ze,v as Re,p as ht,q as wt,F as M,s as Ue,t as Me,x as Te,y as Ne,z as P,A as w,B as L,C as m,D as S,E as U,G as j,H as r,I as W,J as V,K as We,L as ce,M as bt,N as At,O as Q,P as Ce,Q as xt,R as Ct}from"./index-6b5103c3.js";const Z=e=>e!=null,de=e=>typeof e=="function",ve=e=>e!==null&&typeof e=="object",Et=e=>ve(e)&&de(e.then)&&de(e.catch),Qe=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),kt=()=>Lt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Bt(){}const ge=Object.assign,Lt=typeof window<"u";function Ee(e,t){const a=t.split(".");let c=e;return a.forEach(p=>{var y;c=ve(c)&&(y=c[p])!=null?y:""}),c}const je=null,q=[Number,String],J={type:Boolean,default:!0},X=e=>({type:String,default:e});var ye=typeof window<"u";function Ge(e){let t;oe(()=>{e(),me(()=>{t=!0})}),Pe(()=>{t&&e()})}function Ke(e,t,a={}){if(!ye)return;const{target:c=window,passive:p=!1,capture:y=!1}=a;let l=!1,f;const u=b=>{if(l)return;const I=G(b);I&&!f&&(I.addEventListener(e,t,{capture:y,passive:p}),f=!0)},x=b=>{if(l)return;const I=G(b);I&&f&&(I.removeEventListener(e,t,y),f=!1)};mt(()=>x(c)),fe(()=>x(c)),Ge(()=>u(c));let E;return _t(c)&&(E=ne(c,(b,I)=>{x(I),u(b)})),()=>{E==null||E(),x(c),l=!0}}var se,ue;function It(){if(!se&&(se=A(0),ue=A(0),ye)){const e=()=>{se.value=window.innerWidth,ue.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:se,height:ue}}var $t=/scroll|auto|overlay/i,Ot=ye?window:void 0;function St(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Pt(e,t=Ot){let a=e;for(;a&&a!==t&&St(a);){const{overflowY:c}=window.getComputedStyle(a);if($t.test(c))return a;a=a.parentNode}return t}kt();const Dt=e=>e.stopPropagation();function Ye(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Dt(e)}It();function H(e){if(Z(e))return Qe(e)?`${e}px`:String(e)}function Ft(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const zt=/-(\w)/g,qe=e=>e.replace(zt,(t,a)=>a.toUpperCase()),{hasOwnProperty:Rt}=Object.prototype;function Ut(e,t,a){const c=t[a];Z(c)&&(!Rt.call(e,a)||!ve(c)?e[a]=c:e[a]=He(Object(e[a]),c))}function He(e,t){return Object.keys(t).forEach(a=>{Ut(e,t,a)}),e}var Mt={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ke=A("zh-CN"),Be=Y({"zh-CN":Mt}),Tt={messages(){return Be[ke.value]},use(e,t){ke.value=e,this.add({[e]:t})},add(e={}){He(Be,e)}};var Nt=Tt;function Wt(e){const t=qe(e)+".";return(a,...c)=>{const p=Nt.messages(),y=Ee(p,t+a)||Ee(p,a);return de(y)?y(...c):y}}function pe(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((a,c)=>a+pe(e,c),""):Object.keys(t).reduce((a,c)=>a+(t[c]?pe(e,c):""),""):""}function Qt(e){return(t,a)=>(t&&typeof t!="string"&&(a=t,t=""),t=t?`${e}__${t}`:e,`${t}${pe(t,a)}`)}function ae(e){const t=`van-${e}`;return[t,Qt(t),Wt(t)]}const jt="van-haptics-feedback",Le=5;function Gt(e,{args:t=[],done:a,canceled:c}){if(e){const p=e.apply(null,t);Et(p)?p.then(y=>{y?a():c&&c()}).catch(Bt):p?a():c&&c()}else a()}function re(e){return e.install=t=>{const{name:a}=e;a&&(t.component(a,e),t.component(qe(`-${a}`),e))},e}const Kt=Symbol();function Yt(e){const t=vt();t&&ge(t.proxy,e)}const[qt,Ie]=ae("badge"),Ht={dot:Boolean,max:q,tag:X("div"),color:String,offset:Array,content:q,showZero:J,position:X("top-right")};var Jt=ie({name:qt,props:Ht,setup(e,{slots:t}){const a=()=>{if(t.content)return!0;const{content:f,showZero:u}=e;return Z(f)&&f!==""&&(u||f!==0&&f!=="0")},c=()=>{const{dot:f,max:u,content:x}=e;if(!f&&a())return t.content?t.content():Z(u)&&Qe(x)&&+x>+u?`${u}+`:x},p=f=>f.startsWith("-")?f.replace("-",""):`-${f}`,y=_e(()=>{const f={background:e.color};if(e.offset){const[u,x]=e.offset,{position:E}=e,[b,I]=E.split("-");t.default?(typeof x=="number"?f[b]=H(b==="top"?x:-x):f[b]=b==="top"?H(x):p(x),typeof u=="number"?f[I]=H(I==="left"?u:-u):f[I]=I==="left"?H(u):p(u)):(f.marginTop=H(x),f.marginLeft=H(u))}return f}),l=()=>{if(a()||e.dot)return o("div",{class:Ie([e.position,{dot:e.dot,fixed:!!t.default}]),style:y.value},[c()])};return()=>{if(t.default){const{tag:f}=e;return o(f,{class:Ie("wrapper")},{default:()=>[t.default(),l()]})}return l()}}});const Vt=re(Jt);let Xt=2e3;const Zt=()=>++Xt,[en,bo]=ae("config-provider"),tn=Symbol(en),[nn,$e]=ae("icon"),on=e=>e==null?void 0:e.includes("/"),an={dot:Boolean,tag:X("i"),name:String,size:q,badge:q,color:String,badgeProps:Object,classPrefix:String};var ln=ie({name:nn,props:an,setup(e,{slots:t}){const a=gt(tn,null),c=_e(()=>e.classPrefix||(a==null?void 0:a.iconPrefix)||$e());return()=>{const{tag:p,dot:y,name:l,size:f,badge:u,color:x}=e,E=on(l);return o(Vt,De({dot:y,tag:p,class:[c.value,E?"":`${c.value}-${l}`],style:{color:x,fontSize:H(f)},content:u},e.badgeProps),{default:()=>{var b;return[(b=t.default)==null?void 0:b.call(t),E&&o("img",{class:$e("image"),src:l},null)]}})}}});const sn=re(ln),rn={show:Boolean,zIndex:q,overlay:J,duration:q,teleport:[String,Object],lockScroll:J,lazyRender:J,beforeClose:Function,overlayStyle:Object,overlayClass:je,transitionAppear:Boolean,closeOnClickOverlay:J};function un(e,t){return e>t?"horizontal":t>e?"vertical":""}function cn(){const e=A(0),t=A(0),a=A(0),c=A(0),p=A(0),y=A(0),l=A(""),f=A(!0),u=()=>l.value==="vertical",x=()=>l.value==="horizontal",E=()=>{a.value=0,c.value=0,p.value=0,y.value=0,l.value="",f.value=!0};return{move:_=>{const i=_.touches[0];a.value=(i.clientX<0?0:i.clientX)-e.value,c.value=i.clientY-t.value,p.value=Math.abs(a.value),y.value=Math.abs(c.value);const T=10;(!l.value||p.value<T&&y.value<T)&&(l.value=un(p.value,y.value)),f.value&&(p.value>Le||y.value>Le)&&(f.value=!1)},start:_=>{E(),e.value=_.touches[0].clientX,t.value=_.touches[0].clientY},reset:E,startX:e,startY:t,deltaX:a,deltaY:c,offsetX:p,offsetY:y,direction:l,isVertical:u,isHorizontal:x,isTap:f}}let te=0;const Oe="van-overflow-hidden";function dn(e,t){const a=cn(),c="01",p="10",y=E=>{a.move(E);const b=a.deltaY.value>0?p:c,I=Pt(E.target,e.value),{scrollHeight:_,offsetHeight:i,scrollTop:T}=I;let R="11";T===0?R=i>=_?"00":"01":T+i>=_&&(R="10"),R!=="11"&&a.isVertical()&&!(parseInt(R,2)&parseInt(b,2))&&Ye(E,!0)},l=()=>{document.addEventListener("touchstart",a.start),document.addEventListener("touchmove",y,{passive:!1}),te||document.body.classList.add(Oe),te++},f=()=>{te&&(document.removeEventListener("touchstart",a.start),document.removeEventListener("touchmove",y),te--,te||document.body.classList.remove(Oe))},u=()=>t()&&l(),x=()=>t()&&f();Ge(u),fe(x),yt(x),ne(t,E=>{E?l():f()})}function Je(e){const t=A(!1);return ne(e,a=>{a&&(t.value=a)},{immediate:!0}),a=>()=>t.value?a():null}const[pn,fn]=ae("overlay"),mn={show:Boolean,zIndex:q,duration:q,className:je,lockScroll:J,lazyRender:J,customStyle:Object};var _n=ie({name:pn,props:mn,setup(e,{slots:t}){const a=A(),c=Je(()=>e.show||!e.lazyRender),p=l=>{e.lockScroll&&Ye(l,!0)},y=c(()=>{var l;const f=ge(Ft(e.zIndex),e.customStyle);return Z(e.duration)&&(f.animationDuration=`${e.duration}s`),ze(o("div",{ref:a,style:f,class:[fn(),e.className]},[(l=t.default)==null?void 0:l.call(t)]),[[Re,e.show]])});return Ke("touchmove",p,{target:a}),()=>o(Fe,{name:"van-fade",appear:!0},{default:y})}});const vn=re(_n),gn=ge({},rn,{round:Boolean,position:X("center"),closeIcon:X("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:X("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[yn,Se]=ae("popup");var hn=ie({name:yn,inheritAttrs:!1,props:gn,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:a,slots:c}){let p,y;const l=A(),f=A(),u=Je(()=>e.show||!e.lazyRender),x=_e(()=>{const B={zIndex:l.value};if(Z(e.duration)){const F=e.position==="center"?"animationDuration":"transitionDuration";B[F]=`${e.duration}s`}return B}),E=()=>{p||(p=!0,l.value=e.zIndex!==void 0?+e.zIndex:Zt(),t("open"))},b=()=>{p&&Gt(e.beforeClose,{done(){p=!1,t("close"),t("update:show",!1)}})},I=B=>{t("clickOverlay",B),e.closeOnClickOverlay&&b()},_=()=>{if(e.overlay)return o(vn,{show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:I},{default:c["overlay-content"]})},i=B=>{t("clickCloseIcon",B),b()},T=()=>{if(e.closeable)return o(sn,{role:"button",tabindex:0,name:e.closeIcon,class:[Se("close-icon",e.closeIconPosition),jt],classPrefix:e.iconPrefix,onClick:i},null)};let R;const ee=()=>{R&&clearTimeout(R),R=setTimeout(()=>{t("opened")})},$=()=>t("closed"),v=B=>t("keydown",B),O=u(()=>{var B;const{round:F,position:C,safeAreaInsetTop:K,safeAreaInsetBottom:le}=e;return ze(o("div",De({ref:f,style:x.value,role:"dialog",tabindex:0,class:[Se({round:F,[C]:C}),{"van-safe-area-top":K,"van-safe-area-bottom":le}],onKeydown:v},a),[(B=c.default)==null?void 0:B.call(c),T()]),[[Re,e.show]])}),D=()=>{const{position:B,transition:F,transitionAppear:C}=e,K=B==="center"?"van-fade":`van-popup-slide-${B}`;return o(Fe,{name:F||K,appear:C,onAfterEnter:ee,onAfterLeave:$},{default:O})};return ne(()=>e.show,B=>{B&&!p&&(E(),a.tabindex===0&&me(()=>{var F;(F=f.value)==null||F.focus()})),!B&&p&&(p=!1,t("close"))}),Yt({popupRef:f}),dn(f,()=>e.show&&e.lockScroll),Ke("popstate",()=>{e.closeOnPopstate&&(b(),y=!1)}),oe(()=>{e.show&&E()}),Pe(()=>{y&&(t("update:show",!0),y=!1)}),fe(()=>{e.show&&e.teleport&&(b(),y=!0)}),ht(Kt,()=>e.show),()=>e.teleport?o(wt,{to:e.teleport},{default:()=>[_(),D()]}):o(M,null,[_(),D()])}});const wn=re(hn);const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWtJREFUWEftlkFuwkAMRWcigXqJIpZwioaTQU9GbgFLBJdAVMSVI1KFaGx/O0hsyioSM+Pn72/P5PTmX35z/OQGOCw/6tS2dSb66uBzriml7+67qpr16dp4koIBOHC+37ccUAvAMOvzbYdCQACHxXyXU9qih/I6FMQEiATvQamqNlZJTIDjYk6ezMdrV+ebGkP9c0r2fyBEzerys5GSUAG07FlePpQltkA1FUSAzvVtuy+Rl2rrXd+fKwMIztfcffyc7Uttqu15KYBYCsUHIoCUTVIOkwBiCigekEwlmfblAGMVrDEd6gJ2qViGYWsQNer9MGUOaK2FTkfrTrBHsdBaKMCkUcxBpqhgZd89J5BMIC8UDrKyhwEiKiDZwwBwRzxUQIO7ADwqINKbl1HJG9a163mKhQDMUhhDp5QU1AXDjdF7P/QikjaVSuEx3vBctwL95qfZEJA+7IF+47AUHtePVQ0rgExQZM0/wC/2reMhR5YQoAAAAABJRU5ErkJggg==",Xe=""+new URL("home-653daf67.jpg",import.meta.url).href,Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAvRJREFUaEPdWm1O4zAQjVuB9hKL9iecYuFkW07WcAr4ieASiBU1Gm9iHMcz8ya2i7T9BZXtvPfmM+O6odPn8dePW/fx8YeO98493Ly8H3o8yvU49PHq8uCGIYCfP34Y7nuQaEaAFCewQXXnwt/5h0iE73a78eb5bWwhXhWBAPp0unXe/+ZASyBbWGUTgejfjNJWZWuImAmU/NsKmFu/hQhMIKh+Oh1bgRVda7e7Q2MEItBT9VprqARM4L3/l1mELJSn19ogFwnA4L0f/X5/P5v96erSl4Bdv7yH59G5gWdWK7jUK9UPlgDk896P169/7/IHP/28OOZW4AIUEckLMcES4FREK+sCGEN0PgshMVsvF6tIQDtQUiR/AFkSySiaxTkLFglI6lvAW1OuSqLgSisCkvpbCo2ZRKER/OoI1zG3IsCpfw7wM9BSEoixl1lhQUBSnwsiq8LoelTIBQF0EwqiZh1rhSyjRQJSAJ3TfWJqFXqvNJF8ERCC59zuo8WCicB3qK8RGBI3ir2J1pdYiaQJwbpXykJ5J+C0qrsIRKUlkFoDlIQFD7mSQ9imJJBKrHWjUnbSerBcUDMBJKC3EtBaiRVx70dn2VTjBuhei0fQmXAQp5GPFKiaIEbiYBYk1gG08iHgW63hiKTW1CsxmHlagU7PQVobnQANZw1jjlZExLY+wbNs5grvsgHQN1gB7Yz/r3ZaTKlntAKqPjnH+o2McyPypE4z/jRurK+063diZQbaM6C1olrqArqOVdCRCllAA28aq9CBWlOluVNaGLW1SOU1DbYQRUJ2ZWKiCMgwhsxryabRYiAhzWiSp8x3X/MQVutGLTc8mvXajtcnq7Bvd8r4faU8kPVUAhZLtGojJPfMnwERQGOiFQFLqoYJSO+7zYADLrPZAvlGNMAhctkND7RnWmS2QDMiBNq5h9pb+2oC0bWmW/upwVr8TiKSnpSm/5FLD8QSzQhoDZmWzxGwpTVdCMTUS7+hoNqQ3GBuBcrt+wRFn1Z7JydFCwAAAABJRU5ErkJggg==";const bn={class:"map_view"},An={class:"map_view_title"},xn={style:{"font-weight":"bold"}},Cn=["src"],En={class:"map_view_title_notice"},kn={class:"map_view_title_notice_desc"},Bn=["src"],Ln={class:"map_view_ad"},In=["href"],$n=["src"],On={class:"map_view_ad"},Sn=["href"],Pn=["src"],Dn={class:"map_view_center"},Fn=["href"],zn={key:0},Rn=["src"],Un={__name:"mobile",setup(e){Ue();const t=A({lng:13.730562,lat:100.570478});A(3);const a=A(null),c=A(!1),p=Y({adListLeft:[],adListRight:[],mapList:[],points:[],notice:"",infoCenter:{lng:"",lat:""}}),y=A(!1);Y({name:"",contact_information:"",comment:"",pic_url:""});const l=Y({name:"",contact_information:"",comment:"",display_pic_url:"",showModal:!1,position:{lng:"",lat:""}}),f=A(0);oe(()=>{Me().then($=>{p.adListLeft=$.list.filter((v,O)=>O%2==1),p.adListRight=$.list.filter((v,O)=>O%2==0)}),Te().then($=>{p.notice=$.notice}),E()});const u=({BMap:$,map:v})=>{new $.Geolocation().getCurrentPosition(function(B){console.log(B),t.value.lng=B.longitude,t.value.lat=B.latitude},{enableHighAccuracy:!0});const D=new $.NavigationControl;v.addControl(D)},x=({type:$,target:v,point:O,pixel:D,overlay:B})=>{p.infoCenter={lng:O.lng,lat:O.lat},console.log("state.infoCenter",p.infoCenter),y.value=!0},E=()=>{Ne().then($=>{let v=$.list,O=[];v.forEach(D=>{D.icon=Ve,D.display_label_pic_url&&(D.icon=D.display_label_pic_url),O.push({lng:D.lng,lat:D.lat})}),p.mapList=v,p.points=O})},b=$=>{_(),f.value=$,l.showModal=!0},I=()=>{p.mapList.forEach((v,O)=>(O==f.value&&(l.name=v.name,l.contact_information=v.contact_information,l.comment=v.comment,l.pic_url=v.pic_url,l.address=v.address,l.position.lng=v.lng,l.position.lat=v.lat),v)),l.showModal=!0},_=()=>{l.name="",l.contact_information="",l.comment="",l.pic_url="",l.position.lng="",l.position.lat="",l.showModal=!1},i=()=>{ce().then($=>{console.log($),new $.LocalSearch(a.value.map,{renderOptions:{map:a.value.map}}).search("芭提雅旅游区")})},T=()=>{c.value=!0},R=$=>{const{lng:v,lat:O}=l.position;$=="baidu"&&(window.location.href=`http://api.map.baidu.com/marker?location=${v},${O}&title=${l.address}&content=${l.address}&output=html`),$=="gaode"&&(window.location.href=`http://uri.amap.com/marker?position=${v},${O}&name=${l.address}&coordinate=gaode&callnative=1`)},ee=()=>{c.value=!1};return($,v)=>{const O=P("bm-marker"),D=P("bm-info-window"),B=P("bm-geolocation"),F=wn;return w(),L(M,null,[m("div",bn,[m("div",An,[m("p",xn,[m("img",{src:G(Xe),class:"map_view_logo"},null,8,Cn),S(" Thaixmap")]),m("div",En,[m("p",kn,"Notice: "+U(p.notice),1)])]),m("img",{src:G(Ze),class:"map_view_home",onClick:v[0]||(v[0]=C=>i())},null,8,Bn),m("div",Ln,[(w(!0),L(M,null,j(p.adListLeft,C=>(w(),L("a",{class:"map_view_ad_item",key:C.sort,target:"_blank",href:C.url},[m("img",{src:C.display_img,class:"map_view_ad_item_img"},null,8,$n)],8,In))),128))]),m("div",On,[(w(!0),L(M,null,j(p.adListRight,C=>(w(),L("a",{class:"map_view_ad_item",key:C.sort,target:"_blank",href:C.url},[m("img",{src:C.display_img,class:"map_view_ad_item_img"},null,8,Pn)],8,Sn))),128))]),m("div",Dn,[o(G(We),{class:"map_view_center_container map",id:"map",zoom:15,center:"芭提雅旅游区",onReady:u,onRightclick:x,ref_key:"map",ref:a},{default:r(()=>[(w(!0),L(M,null,j(p.mapList,(C,K)=>(w(),W(O,{position:{lng:C.lng,lat:C.lat},dragging:!1,onClick:le=>b(K),zIndex:999,icon:{url:C.icon,size:{width:32,height:32}}},null,8,["position","onClick","icon"]))),256)),o(O,{position:l.position,dragging:!1,onClick:v[4]||(v[4]=C=>I()),zIndex:999},{default:r(()=>[o(D,{title:"标注点",position:l.position,show:l.showModal,onClose:v[2]||(v[2]=C=>_()),onOpen:v[3]||(v[3]=C=>I()),zIndex:"99999"},{default:r(()=>[m("p",null,"地点名称："+U(l.name),1),m("p",{style:{color:"rgba(0,0,235,0.9)",cursor:"pointer"},onClick:v[1]||(v[1]=C=>T())},"地点："+U(l.address),1),m("p",null,"评论："+U(l.comment),1),m("p",null,[S("联系方式："),m("a",{href:"tel:"+l.contact_information},U(l.contact_information),9,Fn)]),l.display_pic_url?(w(),L("div",zn,[S(" 图片： "),m("img",{src:l.display_pic_url},null,8,Rn)])):V("",!0)]),_:1},8,["position","show"])]),_:1},8,["position"]),o(B,{anchor:"BMAP_ANCHOR_BOTTOM_LEFT",showAddressBar:!0,autoLocation:!0})]),_:1},512)])]),o(F,{show:c.value,"onUpdate:show":v[8]||(v[8]=C=>c.value=C),position:"bottom",round:"",class:"popup_map"},{default:r(()=>[m("div",{class:"map_item",onClick:v[5]||(v[5]=C=>R("baidu"))},"百度地图"),m("div",{class:"map_item",onClick:v[6]||(v[6]=C=>R("gaode"))},"高德地图"),m("div",{class:"map_item",onClick:v[7]||(v[7]=C=>ee())},"取消")]),_:1},8,["show"])],64)}}};const Mn={class:"pc-title"},Tn={class:"pc-title-name"},Nn=["src"],Wn={class:"pc-notice"},Qn={key:0,class:"pc-title_user"},jn={class:"pc-map_view"},Gn={class:"pc-map_view_ad"},Kn=["href"],Yn=["src"],qn={class:"pc-map_view_center"},Hn={class:"pc-place_main"},Jn=m("span",{class:"pc-require"},"*",-1),Vn={key:0},Xn=m("span",{class:"pc-require"},"*",-1),Zn={key:0},eo={key:0},to={key:0,class:"pc-img_list"},no=["src"],oo={key:1,class:"clearfix"},ao=m("div",{style:{"margin-top":"8px"}},"上传",-1),lo={style:{display:"flex","align-items":"center",gap:"10px"}},so=["src"],io={class:"pc-place_main"},ro=m("span",{class:"pc-require"},"*",-1),uo=m("span",{class:"pc-require"},"*",-1),co=m("div",{style:{"margin-top":"8px"}},"上传",-1),po={style:{display:"flex","align-items":"center",gap:"10px"}},fo=["src"],mo={class:"pc-map_view_ad"},_o=["href"],vo=["src"],go=["src"],yo={__name:"pc",setup(e){Ue();const t=A({lng:13.730562,lat:100.570478}),a=A("芭提雅旅游区"),c=A(15),p=A(""),y=A(""),l=A(!1),f=A(null),u=Y({adListLeft:[],adListRight:[],mapList:[],points:[],notice:"",infoCenter:{lng:"",lat:""},fileList:[],labelList:[]}),x=A(!1),E=A(!1),b=A(!1),I=A(null),_=Y({name:"",contact_information:"",comment:"",pic_url:"",address:"",display_pic_url:"",address:"",label_id:null}),i=Y({id:null,name:"",contact_information:"",address:"",comment:"",display_pic_url:"",showModal:!1,position:{lng:"",lat:""},label_id:null}),T=A(0);oe(()=>{localStorage.getItem("token")?l.value=!0:l.value=!1,Me().then(d=>{u.adListLeft=d.list.filter((n,g)=>g%2==1),u.adListRight=d.list.filter((n,g)=>g%2==0)}),Te().then(d=>{u.notice=d.notice}),R(),O()}),me(()=>{setTimeout(()=>{I.value.observer.disconnect()},50)});const R=()=>{bt().then(d=>{u.labelList=d.list})},ee=()=>{localStorage.getItem("token")?(localStorage.removeItem("token"),l.value=!1):x.value=!0},$=({BMap:d,map:n})=>{new d.Geolocation().getCurrentPosition(function(h){t.value.lng=h.longitude,t.value.lat=h.latitude},{enableHighAccuracy:!0});const k=new d.NavigationControl;n.addControl(k),a.value="芭提雅旅游区"},v=({type:d,target:n,point:g,pixel:k,overlay:h})=>{window.localStorage.getItem("token")||(Q.error("请登录"),x.value=!0),u.infoCenter={lng:g.lng,lat:g.lat},E.value=!0},O=()=>{Ne().then(d=>{let n=d.list,g=[];n=n.map(k=>(k.icon=Ve,k.display_label_pic_url&&(k.icon=k.display_label_pic_url),g.push({lng:k.lng,lat:k.lat}),k)),u.mapList=n,u.points=g})},D=d=>{F(),T.value=d,i.showModal=!0},B=()=>{u.mapList.forEach((n,g)=>(g==T.value&&(i.id=n.id,console.log("item",n),i.name=n.name,i.contact_information=n.contact_information,i.comment=n.comment,i.address=n.address,i.display_pic_url=n.display_pic_url,i.position.lng=n.lng,i.position.lat=n.lat,u.fileList=n.display_pic_url),n)),i.showModal=!0},F=()=>{i.name="",i.contact_information="",i.comment="",i.address="",i.pic_url="",i.position.lng="",i.position.lat="",i.showModal=!1},C=()=>{E.value=!0},K=()=>{E.value=!1,u.infoCenter={lng:"",lat:""},_.pic_url="",_.address="",_.display_pic_url="",_.name="",_.contact_information="",_.comment=""},le=d=>{let n=new FormData;n.append("file",d.file);let g=[];u.fileList&&(g=u.fileList),Ce(n).then(k=>{g.push({uid:d.file.uid,name:d.file.name,status:"done",url:k.display_path}),g=g.filter(h=>h.status!="uploading"),u.fileList=g})},et=d=>{let n=new FormData;n.append("file",d.file);let g=[];u.fileList&&(g=u.fileList),Ce(n).then(k=>{g.push({uid:d.file.uid,name:d.file.name,status:"done",url:k.display_path}),g=g.filter(h=>h.status!="uploading"),u.fileList=g})},tt=()=>{if(!p.value)return Q.error("用户名不能为空"),!1;if(!y.value)return Q.error("密码不能为空"),!1;if(p.value!="admin"||y.value!="123456"){Q.error("请输入正确的账号密码");return}else window.localStorage.setItem("token",!0),x.value=!1,l.value=!0},nt=()=>{b.value=!0},ot=()=>{b.value=!1},at=()=>{let d=new FormData;if(!i.name){Q.warning("请输入名称");return}if(!i.address){Q.warning("请输入地址");return}let n=[];u.fileList&&(n=u.fileList);let g=[];n.forEach(k=>{g.push(k.url)}),d.append("id",i.id),d.append("comment",i.comment),d.append("address",i.address),d.append("contact_information",i.contact_information),d.append("name",i.name),d.append("lng",i.position.lng),d.append("lat",i.position.lat),d.append("lat",i.position.lat),d.append("label_id",i.label_id),g.length>0&&d.append("pic_url",g.join(",")),xt(d).then(k=>{Q.success(k.message),O(),i.name="",i.contact_information="",i.comment="",i.display_pic_url="",i.position.lng="",i.position.lat="",_.pic_url="",b.value=!1,F()})},lt=()=>{let d=new FormData;if(!_.name){Q.warning("请输入名称");return}if(!_.address){Q.warning("请输入地址");return}let n=[];u.fileList&&(n=u.fileList);let g=[];n.forEach(k=>{g.push(k.url)}),d.append("comment",_.comment),d.append("address",_.address),d.append("contact_information",_.contact_information),d.append("name",_.name),d.append("label_id",_.label_id),d.append("lng",u.infoCenter.lng),d.append("lat",u.infoCenter.lat),g.length>0&&d.append("pic_url",g.join(",")),Ct(d).then(k=>{Q.success(k.message),O(),_.name="",_.address="",_.contact_information="",_.comment="",u.infoCenter.lng="",u.infoCenter.lat="",_.pic_url="",E.value=!1,K()})},st=()=>{ce().then(d=>{console.log(d),new d.LocalSearch(f.value.map,{renderOptions:{map:f.value.map}}).search("芭提雅旅游区")})},it=()=>{ce().then(d=>{const{lng:n,lat:g}=i.position,k=d.Point(t.value.lng,t.value.lat),h=d.Point(n,g),N=d.DrivingRoute(f.value.map);N.search(k,h),console.log("driving",N)})};return ne(_,(d,n)=>{console.log("val",d)}),(d,n)=>{const g=P("a-button"),k=P("bm-marker"),h=P("a-col"),N=P("a-input"),z=P("a-row"),he=P("plus-outlined"),we=P("a-upload"),be=P("a-radio"),Ae=P("a-radio-group"),xe=P("bm-info-window"),rt=P("bm-geolocation"),ut=P("a-icon"),ct=P("svg-icon"),dt=P("a-input-password"),pt=P("a-modal");return w(),L(M,null,[m("div",Mn,[m("p",Tn,[m("img",{src:G(Xe),class:"pc-title-logo"},null,8,Nn),S(" Thaixmap    ")]),m("div",Wn,[m("p",null,U(u.notice),1)]),l.value?(w(),L("p",Qn,"admin")):V("",!0),o(g,{class:"pc-title_btn",type:"primary",onClick:n[0]||(n[0]=s=>ee())},{default:r(()=>[S(U(l.value?"登出":"登录"),1)]),_:1})]),m("div",jn,[m("div",Gn,[(w(!0),L(M,null,j(u.adListLeft,s=>(w(),L("a",{class:"pc-map_view_ad_item",key:s.sort,target:"_blank",href:s.url},[m("img",{src:s.display_img,class:"pc-map_view_ad_item_img"},null,8,Yn)],8,Kn))),128))]),m("div",qn,[o(G(We),{class:"pc-map_view_center_container map","scroll-wheel-zoom":!0,id:"map",zoom:c.value,center:a.value,onReady:$,onRightclick:v,ref_key:"map",ref:f},{default:r(()=>[(w(!0),L(M,null,j(u.mapList,(s,ft)=>(w(),W(k,{position:{lng:s.lng,lat:s.lat},dragging:!1,onClick:ho=>D(ft),zIndex:999,icon:{url:s.icon,size:{width:32,height:32}}},null,8,["position","onClick","icon"]))),256)),o(k,{position:i.position,dragging:!1,onClick:n[13]||(n[13]=s=>B()),zIndex:999},{default:r(()=>[o(xe,{title:"标注点",position:i.position,show:i.showModal,onClose:n[11]||(n[11]=s=>F()),onOpen:n[12]||(n[12]=s=>B()),zIndex:"99999",ref:I.value,width:400},{default:r(()=>[m("div",Hn,[l.value&&!b.value?(w(),W(G(At),{key:0,class:"pc-place_main_icon",onClick:n[1]||(n[1]=s=>nt())})):V("",!0),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[Jn,S("名称：")]),_:1}),o(h,{span:18},{default:r(()=>[b.value?(w(),W(N,{key:1,value:i.name,"onUpdate:value":n[2]||(n[2]=s=>i.name=s),placeholder:"请输入名称"},null,8,["value"])):(w(),L("p",Vn,U(i.name),1))]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[Xn,S("地址：")]),_:1}),o(h,{span:18},{default:r(()=>[b.value?(w(),W(N,{key:1,value:i.address,"onUpdate:value":n[4]||(n[4]=s=>i.address=s),placeholder:"请输入地址"},null,8,["value"])):(w(),L("p",{key:0,style:{color:"rgba(0,0,235,0.9)",cursor:"pointer"},onClick:n[3]||(n[3]=s=>it())},U(i.address),1))]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("评论：")]),_:1}),o(h,{span:18},{default:r(()=>[b.value?(w(),W(N,{key:1,type:"textarea",autosize:"",value:i.comment,"onUpdate:value":n[5]||(n[5]=s=>i.comment=s),placeholder:"请输入评论"},null,8,["value"])):(w(),L("p",Zn,U(i.comment),1))]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("联系方式：")]),_:1}),o(h,{span:18},{default:r(()=>[b.value?(w(),W(N,{key:1,value:i.contact_information,"onUpdate:value":n[6]||(n[6]=s=>i.contact_information=s),placeholder:"请输入联系方式"},null,8,["value"])):(w(),L("p",eo,U(i.contact_information),1))]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"top",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("图片：")]),_:1}),o(h,{span:18},{default:r(()=>[b.value?(w(),L("div",oo,[o(we,{"list-type":"picture-card","file-list":u.fileList,"onUpdate:fileList":n[7]||(n[7]=s=>u.fileList=s),customRequest:et,name:"file",class:"pc-upload",multiple:"true"},{default:r(()=>[m("div",null,[o(he),ao])]),_:1},8,["file-list"])])):(w(),L("div",to,[(w(!0),L(M,null,j(i.display_pic_url,s=>(w(),L("img",{src:s},null,8,no))),256))]))]),_:1})]),_:1}),o(z,{style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("标注点图标：")]),_:1}),o(h,{span:18},{default:r(()=>[o(Ae,{value:i.label_id,"onUpdate:value":n[8]||(n[8]=s=>i.label_id=s)},{default:r(()=>[(w(!0),L(M,null,j(u.labelList,s=>(w(),W(be,{key:s.id,value:s.id,disabled:!b.value,style:{"margin-bottom":"10px"}},{default:r(()=>[m("div",lo,[m("p",null,U(s.name),1),m("img",{src:s.display_img,class:"pc-icon"},null,8,so)])]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),b.value?(w(),W(z,{key:1,type:"flex",justify:"flex-start",align:"bottom"},{default:r(()=>[o(h,{span:6}),o(h,{span:18},{default:r(()=>[o(g,{type:"primary",onClick:n[9]||(n[9]=s=>at()),style:{"margin-right":"10px"}},{default:r(()=>[S("确定")]),_:1}),o(g,{onClick:n[10]||(n[10]=s=>ot())},{default:r(()=>[S("取消")]),_:1})]),_:1})]),_:1})):V("",!0)])]),_:1},8,["position","show"])]),_:1},8,["position"]),o(k,{position:u.infoCenter,dragging:!1,onClick:n[23]||(n[23]=s=>C()),zIndex:999},{default:r(()=>[o(xe,{show:E.value,onClose:n[21]||(n[21]=s=>K()),onOpen:n[22]||(n[22]=s=>C()),zIndex:"99999",ref:I.value,width:400},{default:r(()=>[m("div",io,[o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[ro,S("名称：")]),_:1}),o(h,{span:18},{default:r(()=>[o(N,{value:_.name,"onUpdate:value":n[14]||(n[14]=s=>_.name=s),placeholder:"请输入名称"},null,8,["value"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[uo,S("地址：")]),_:1}),o(h,{span:18},{default:r(()=>[o(N,{value:_.address,"onUpdate:value":n[15]||(n[15]=s=>_.address=s),placeholder:"请输入地址"},null,8,["value"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("评论：")]),_:1}),o(h,{span:18},{default:r(()=>[o(N,{type:"textarea",autosize:"",value:_.comment,"onUpdate:value":n[16]||(n[16]=s=>_.comment=s),placeholder:"请输入评论"},null,8,["value"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("联系方式：")]),_:1}),o(h,{span:18},{default:r(()=>[o(N,{value:_.contact_information,"onUpdate:value":n[17]||(n[17]=s=>_.contact_information=s),placeholder:"请输入联系方式"},null,8,["value"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"top",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("图片：")]),_:1}),o(h,{span:18},{default:r(()=>[o(we,{"file-list":u.fileList,"onUpdate:fileList":n[18]||(n[18]=s=>u.fileList=s),"list-type":"picture-card",name:"file",customRequest:le,class:"pc-upload",multiple:"true"},{default:r(()=>[m("div",null,[o(he),co])]),_:1},8,["file-list"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom",style:{"margin-bottom":"10px"}},{default:r(()=>[o(h,{span:6,style:{"text-align":"right"}},{default:r(()=>[S("标注点图标：")]),_:1}),o(h,{span:18},{default:r(()=>[o(Ae,{value:_.label_id,"onUpdate:value":n[19]||(n[19]=s=>_.label_id=s)},{default:r(()=>[(w(!0),L(M,null,j(u.labelList,s=>(w(),W(be,{key:s.id,value:s.id,style:{"margin-bottom":"10px"}},{default:r(()=>[m("div",po,[m("p",null,U(s.name),1),m("img",{src:s.display_img,class:"pc-icon"},null,8,fo)])]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),o(z,{type:"flex",justify:"flex-start",align:"bottom"},{default:r(()=>[o(h,{span:6}),o(h,{span:18},{default:r(()=>[o(g,{type:"primary",onClick:n[20]||(n[20]=s=>lt()),style:{"margin-right":"10px"}},{default:r(()=>[S("确定")]),_:1})]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1},8,["position"]),o(rt,{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0})]),_:1},8,["zoom","center"])]),m("div",mo,[(w(!0),L(M,null,j(u.adListRight,s=>(w(),L("a",{class:"pc-map_view_ad_item",key:s.sort,target:"_blank",href:s.url},[m("img",{src:s.display_img,class:"pc-map_view_ad_item_img"},null,8,vo)],8,_o))),128))]),o(pt,{visible:x.value,"onUpdate:visible":n[26]||(n[26]=s=>x.value=s),title:"登陆",footer:null},{default:r(()=>[o(N,{value:p.value,"onUpdate:value":n[24]||(n[24]=s=>p.value=s),placeholder:"请输入账号",size:"large","allow-clear":"",style:{"margin-bottom":"20px"}},{default:r(()=>[o(ut,{slot:"prefix",type:"user"})]),_:1},8,["value"]),o(dt,{value:y.value,"onUpdate:value":n[25]||(n[25]=s=>y.value=s),placeholder:"请输入密码",size:"large","allow-clear":"",style:{"margin-bottom":"20px"}},{default:r(()=>[o(ct,{icon:"password",size:14,slot:"prefix"})]),_:1},8,["value"]),o(g,{type:"primary",block:"",size:"large",onClick:tt},{default:r(()=>[S(" 登录 ")]),_:1})]),_:1},8,["visible"]),m("img",{src:G(Ze),class:"pc-location",onClick:n[27]||(n[27]=s=>st())},null,8,go)])],64)}}},Ao={__name:"index",setup(e){const t=Y({target:""});return oe(()=>{/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent)||document.body.clientWidth<750?t.target="mobile_plate":t.target="pc_plate",window.onresize=function(){/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent)||document.body.clientWidth<750?t.target="mobile_plate":t.target="pc_plate"}}),(a,c)=>(w(),L(M,null,[t.target=="mobile_plate"?(w(),W(Un,{key:0})):V("",!0),t.target=="pc_plate"?(w(),W(yo,{key:1})):V("",!0)],64))}};export{Ao as default};
